-- Delta Fly GUI Script

local Player = game.Players.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
local HRP = Character:WaitForChild("HumanoidRootPart")
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = Player:WaitForChild("PlayerGui")

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 250, 0, 100)
Frame.Position = UDim2.new(0.5, -125, 0.8, 0)
Frame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Frame.Parent = ScreenGui

local FlyButton = Instance.new("TextButton")
FlyButton.Size = UDim2.new(0, 100, 0, 50)
FlyButton.Position = UDim2.new(0.5, -50, 0.2, 0)
FlyButton.Text = "Fly OFF"
FlyButton.Parent = Frame

local SpeedSlider = Instance.new("TextBox")
SpeedSlider.Size = UDim2.new(0, 200, 0, 30)
SpeedSlider.Position = UDim2.new(0.5, -100, 0.7, 0)
SpeedSlider.Text = "50"
SpeedSlider.ClearTextOnFocus = false
SpeedSlider.Parent = Frame

-- Fly logic
local flying = false
local speed = 50

FlyButton.MouseButton1Click:Connect(function()
    flying = not flying
    HRP.Anchored = flying
    FlyButton.Text = flying and "Fly ON" or "Fly OFF"
end)

SpeedSlider.FocusLost:Connect(function()
    local val = tonumber(SpeedSlider.Text)
    if val and val > 0 then
        speed = val
    else
        SpeedSlider.Text = tostring(speed)
    end
end)

RunService.RenderStepped:Connect(function(delta)
    if flying then
        local dir = Vector3.new()
        if UIS:IsKeyDown(Enum.KeyCode.W) then dir = dir + workspace.CurrentCamera.CFrame.LookVector end
        if UIS:IsKeyDown(Enum.KeyCode.S) then dir = dir - workspace.CurrentCamera.CFrame.LookVector end
        if UIS:IsKeyDown(Enum.KeyCode.A) then dir = dir - workspace.CurrentCamera.CFrame.RightVector end
        if UIS:IsKeyDown(Enum.KeyCode.D) then dir = dir + workspace.CurrentCamera.CFrame.RightVector end
        if UIS:IsKeyDown(Enum.KeyCode.Space) then dir = dir + Vector3.new(0,1,0) end
        if UIS:IsKeyDown(Enum.KeyCode.LeftShift) then dir = dir - Vector3.new(0,1,0) end

        if dir.Magnitude > 0 then
            HRP.CFrame = HRP.CFrame + dir.Unit * speed * delta
        end
    end
end)
